"use strict";var app=angular.module("myApp",["mgcrea.ngStrap","ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",templateUrl:"/html/home.html",controller:"homeCtrl"}).state("about",{url:"/about",templateUrl:"html/about.html",controller:"aboutCtrl"}).state("travels",{url:"/travels",templateUrl:"html/travels.html",controller:"travelsCtrl"}).state("projects",{url:"/projects",templateUrl:"html/projects.html",controller:"projectsCtrl"}),e.otherwise("/")}]);var app=angular.module("myApp");app.controller("aboutCtrl",["$scope",function(t){console.log("aboutCtrl!")}]);var app=angular.module("myApp");app.controller("crudCtrl",["$scope","Crud",function(t,e){t.cruds=[],e.getAll().then(function(e){t.cruds=e.data,console.log("$scope.cruds:",t.cruds)})["catch"](function(t){console.log("err: ",t)}),t.addCrud=function(){e.addCrud(t.newItem).then(function(e){t.cruds.push(e),t.newItem={}})["catch"](function(t){console.log("error: ",t)})},t.deleteCrud=function(o,r){console.log("crud:",r),e.deleteCrud(r._id).then(function(e){t.cruds.splice(o,1)})["catch"](function(t){console.log("error: ",t)})},t.showUpdateForm=function(e,o){console.log("index: ",e),console.log("crud: ",o),t.showUpdate=!0,t.updateItem=o,t.updateIndex=e},t.updateCrud=function(){t.showUpdate=!1,e.updateCrud(t.updateItem._id,t.updateItem).then(function(e){console.log("update apt:",t.updateItem._id," , ",t.updateItem)})["catch"](function(t){console.log("error: ",t)})}}]);var app=angular.module("myApp");app.controller("homeCtrl",["$scope",function(t){console.log("homeCtrl!")}]);var app=angular.module("myApp");app.controller("mainCtrl",["$scope",function(t){console.log("mainCtrl!")}]);var app=angular.module("myApp");app.controller("projectsCtrl",["$scope",function(t){console.log("projectsCtrl!")}]);var app=angular.module("myApp");app.controller("travelsCtrl",["$scope",function(t){console.log("travelsCtrl!")}]);var app=angular.module("myApp");app.service("Crud",["$http","$q",function(t,e){this.getAll=function(){return t.get("/api/cruds")},this.getById=function(e){return t.get("/api/cruds/"+e)},this.addCrud=function(o){return t.post("/api/cruds",o).then(function(t){return e.resolve(t.data)})["catch"](function(t){console.log("err:",t)})},this.deleteCrud=function(o){return t["delete"]("/api/cruds/"+o).then(function(){return e.resolve()})["catch"](function(t){console.log("err:",t)})},this.updateCrud=function(o,r){return t.put("/api/cruds/"+o,r).then(function(t){return e.resolve(r)})["catch"](function(t){console.log("err:",t)})}}]);var app=angular.module("myApp");app.service("User",["$http","$q",function(t,e){this.profile=function(){return t.get("/api/users/profile").then(function(t){return e.resolve(t.data)})},this.getProfile=function(o){return t.get("/api/users/profile/"+o).then(function(t){return e.resolve(t.data)})["catch"](function(t){console.log("err:",t)})},this.getAll=function(){return t.get("/api/users")},this.updateProfile=function(o,r){return console.log("here"),console.log(o," ",r),t.put("/api/users/profile/"+o,r).then(function(t){return console.log("res.data",t.data),console.log("profileObj",r),e.resolve()})["catch"](function(t){console.log("err:",t)})},this.deleteAccount=function(o){return t["delete"]("/api/users/profile/"+o).then(function(t){return e.resolve()})["catch"](function(t){console.log("err:",t)})},this.addWallPostToUser=function(o,r){return console.log("userId: ",o," postId: ",r),t.put("/api/users/profile/"+o+"/addWallPost/"+r).then(function(t){return e.resolve(t.data)})["catch"](function(t){console.log("err:",t)})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNvbnRyb2xsZXJzL2Fib3V0Q3RybC5qcyIsImNvbnRyb2xsZXJzL2NydWRDdHJsLmpzIiwiY29udHJvbGxlcnMvaG9tZUN0cmwuanMiLCJjb250cm9sbGVycy9tYWluQ3RybC5qcyIsImNvbnRyb2xsZXJzL3Byb2plY3RzQ3RybC5qcyIsImNvbnRyb2xsZXJzL3RyYXZlbHNDdHJsLmpzIiwic2VydmljZXMvY3J1ZHNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlcnNlcnZpY2VzLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwib3RoZXJ3aXNlIiwiJHNjb3BlIiwiY29uc29sZSIsImxvZyIsIkNydWQiLCJjcnVkcyIsImdldEFsbCIsInRoZW4iLCJyZXMiLCJkYXRhIiwiZXJyIiwiYWRkQ3J1ZCIsIm5ld0l0ZW0iLCJjcnVkIiwicHVzaCIsImRlbGV0ZUNydWQiLCJpbmQiLCJfaWQiLCJzcGxpY2UiLCJzaG93VXBkYXRlRm9ybSIsImluZGV4Iiwic2hvd1VwZGF0ZSIsInVwZGF0ZUl0ZW0iLCJ1cGRhdGVJbmRleCIsInVwZGF0ZUNydWQiLCJzZXJ2aWNlIiwiJGh0dHAiLCIkcSIsInRoaXMiLCJnZXQiLCJnZXRCeUlkIiwiaWQiLCJwb3N0IiwicmVzb2x2ZSIsInB1dCIsInByb2ZpbGUiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsInByb2ZpbGVPYmoiLCJkZWxldGVBY2NvdW50IiwiYWRkV2FsbFBvc3RUb1VzZXIiLCJ1c2VySWQiLCJwb3N0SWQiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUEsSUFBSUEsS0FBTUMsUUFBUUMsT0FBTyxTQUFVLGlCQUFrQixhQUVyREYsS0FBSUcsUUFBQSxpQkFBQSxxQkFBTyxTQUFTQyxFQUFnQkMsR0FFbENELEVB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LEdBQ3BCLE1BQU9MLEdBQUFBLFVBQUEsc0JBQW1DSyxHQUN6Q3hCLEtBQUssU0FBQUMsR0FDRixNQUFPbUIsR0FBR00sWUFGUFAsU0FJQSxTQUFBaEIsR0FDTFIsUUFBUUMsSUFBSSxPQUFRTyxNQUl4QmtCLEtBQUtZLGtCQUFvQixTQUFDQyxFQUFRQyxHQUVoQyxNQURBeEMsU0FBUUMsSUFBSSxXQUFXc0MsRUFBUSxZQUFhQyxHQUNyQ2hCLEVBQU1RLElBQU4sc0JBQWdDTyxFQUFoQyxnQkFBc0RDLEdBQzVEbkMsS0FBSyxTQUFBQyxHQUNGLE1BQU9tQixHQUFHTSxRQUFRekIsRUFBSUMsUUFGbkJpQixTQUlBLFNBQUFoQixHQUNIUixRQUFRQyxJQUFJLE9BQVFPIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbWdjcmVhLm5nU3RyYXAnLCAndWkucm91dGVyJ10pO1xuXG5hcHAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcblxuICAkc3RhdGVQcm92aWRlclxuICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgdXJsOiAnL2hvbWUnLFxuICAgIHRlbXBsYXRlVXJsOiAnL2h0bWwvaG9tZS5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnaG9tZUN0cmwnXG4gIH0pXG4gIC5zdGF0ZSgnYWJvdXQnLCB7XG4gICAgdXJsOiAnL2Fib3V0JywgXG4gICAgdGVtcGxhdGVVcmw6ICdodG1sL2Fib3V0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdhYm91dEN0cmwnXG4gIH0pXG4gIC5zdGF0ZSgndHJhdmVscycsIHtcbiAgICB1cmw6ICcvdHJhdmVscycsIFxuICAgIHRlbXBsYXRlVXJsOiAnaHRtbC90cmF2ZWxzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICd0cmF2ZWxzQ3RybCdcbiAgfSlcbiAgLnN0YXRlKCdwcm9qZWN0cycsIHtcbiAgICB1cmw6ICcvcHJvamVjdHMnLCBcbiAgICB0ZW1wbGF0ZVVybDogJ2h0bWwvcHJvamVjdHMuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ3Byb2plY3RzQ3RybCdcbiAgfSlcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xufSk7XG5cbiIsIid1c2Ugc3RyaWN0JztcblxubGV0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcpO1xuXG5hcHAuY29udHJvbGxlcignYWJvdXRDdHJsJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gIGNvbnNvbGUubG9nKCdhYm91dEN0cmwhJyk7XG5cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG5cbmFwcC5jb250cm9sbGVyKCdjcnVkQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQ3J1ZCkge1xuXG4gICRzY29wZS5jcnVkcyA9IFtdO1xuXG4gIENydWQuZ2V0QWxsKClcbiAgLnRoZW4ocmVzID0+e1xuICAgICRzY29wZS5jcnVkcyA9IHJlcy5kYXRhO1xuICAgIGNvbnNvbGUubG9nKFwiJHNjb3BlLmNydWRzOlwiLCAkc2NvcGUuY3J1ZHMpO1xuICB9KVxuICAuY2F0Y2goZXJyID0+e1xuICAgIGNvbnNvbGUubG9nKFwiZXJyOiBcIiwgZXJyKTtcbiAgfSlcblxuICAkc2NvcGUuYWRkQ3J1ZCA9ICgpID0+e1xuICAgIENydWQuYWRkQ3J1ZCgkc2NvcGUubmV3SXRlbSlcbiAgICAudGhlbihjcnVkID0+e1xuICAgICAgJHNjb3BlLmNydWRzLnB1c2goY3J1ZCk7XG4gICAgICAkc2NvcGUubmV3SXRlbSA9IHt9O1xuICAgIH0pXG4gICAgLmNhdGNoKGVycj0+e1xuICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIsIGVyciApO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLmRlbGV0ZUNydWQgPSAoaW5kLCBjcnVkKSA9PntcbiAgICBjb25zb2xlLmxvZyhcImNydWQ6XCIsIGNydWQpXG4gICAgQ3J1ZC5kZWxldGVDcnVkKGNydWQuX2lkKVxuICAgIC50aGVuKGNydWQgPT4ge1xuICAgICAgJHNjb3BlLmNydWRzLnNwbGljZShpbmQsMSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyPT57XG4gICAgICBjb25zb2xlLmxvZyhcImVycm9yOiBcIiwgZXJyICk7XG4gICAgfSk7XG4gIH1cblxuICAkc2NvcGUuc2hvd1VwZGF0ZUZvcm0gPSAoaW5kZXgsIGNydWQpID0+e1xuICAgIGNvbnNvbGUubG9nKFwiaW5kZXg6IFwiLCBpbmRleCk7XG4gICAgY29uc29sZS5sb2coXCJjcnVkOiBcIiwgY3J1ZCk7XG4gICAgJHNjb3BlLnNob3dVcGRhdGUgPXRydWU7XG4gICAgJHNjb3BlLnVwZGF0ZUl0ZW0gPSBjcnVkO1xuICAgICRzY29wZS51cGRhdGVJbmRleCA9IGluZGV4O1xuICB9XG5cbiAgJHNjb3BlLnVwZGF0ZUNydWQ9ICgpID0+e1xuICAgICRzY29wZS5zaG93VXBkYXRlID1mYWxzZTtcbiAgICBDcnVkLnVwZGF0ZUNydWQoJHNjb3BlLnVwZGF0ZUl0ZW0uX2lkLCAkc2NvcGUudXBkYXRlSXRlbSlcbiAgICAudGhlbihjcnVkID0+e1xuICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgYXB0OlwiICwgJHNjb3BlLnVwZGF0ZUl0ZW0uX2lkLCBcIiAsIFwiICwgJHNjb3BlLnVwZGF0ZUl0ZW0pO1xuICAgIH0pXG4gICAgLmNhdGNoKGVycj0+e1xuICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIsIGVyciApO1xuICAgIH0pO1xuICB9XG5cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG5cbmFwcC5jb250cm9sbGVyKCdob21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSkge1xuICBjb25zb2xlLmxvZygnaG9tZUN0cmwhJyk7XG5cblxufSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG5cbmFwcC5jb250cm9sbGVyKCdtYWluQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSkge1xuICBjb25zb2xlLmxvZygnbWFpbkN0cmwhJyk7XG5cblxuXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxubGV0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcpO1xuXG5hcHAuY29udHJvbGxlcigncHJvamVjdHNDdHJsJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gIGNvbnNvbGUubG9nKCdwcm9qZWN0c0N0cmwhJyk7XG5cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5sZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG5cbmFwcC5jb250cm9sbGVyKCd0cmF2ZWxzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSkge1xuICBjb25zb2xlLmxvZygndHJhdmVsc0N0cmwhJyk7XG5cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJyk7XG5cbmFwcC5zZXJ2aWNlKCdDcnVkJywgZnVuY3Rpb24oJGh0dHAsICRxKXtcblxuICB0aGlzLmdldEFsbCA9ICgpID0+e1xuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY3J1ZHMnKTtcbiAgfVxuXG4gIHRoaXMuZ2V0QnlJZCA9IGlkID0+e1xuICAgIHJldHVybiAkaHR0cC5nZXQoYC9hcGkvY3J1ZHMvJHtpZH1gKTtcbiAgfVxuXG4gIHRoaXMuYWRkQ3J1ZD0gKGNydWQpID0+e1xuICAgIHJldHVybiAkaHR0cC5wb3N0KGAvYXBpL2NydWRzYCwgY3J1ZClcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHJldHVybiAkcS5yZXNvbHZlKHJlcy5kYXRhKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHsgICBcbiAgICAgICAgY29uc29sZS5sb2coJ2VycjonLCBlcnIpO1xuICAgICAgfSlcbiAgICB9O1xuXG4gIHRoaXMuZGVsZXRlQ3J1ZCA9IChpZCkgPT57XG4gICAgcmV0dXJuICRodHRwLmRlbGV0ZShgL2FwaS9jcnVkcy8ke2lkfWApXG4gICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICByZXR1cm4gJHEucmVzb2x2ZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4geyAgIFxuICAgICAgICBjb25zb2xlLmxvZygnZXJyOicsIGVycik7XG4gICAgICB9KVxuICAgIH07XG5cbiAgdGhpcy51cGRhdGVDcnVkID0gKGlkLCBjcnVkKSA9PntcbiAgICAgIHJldHVybiAkaHR0cC5wdXQoYC9hcGkvY3J1ZHMvJHtpZH1gLCBjcnVkKVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuICRxLnJlc29sdmUoY3J1ZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7ICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnI6JywgZXJyKTtcbiAgICAgIH0pXG4gICAgfTtcblxufSk7XG5cbi8vaW4gcmVzaWRlbnRzIFJlc2lkZW50LmdldEFsbCgpXG4vLyAgICAgICAgICAgICAgICAudGhlbihyZXNpZGVudHMgPT57fSkiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnKTtcblxuYXBwLnNlcnZpY2UoJ1VzZXInLCBmdW5jdGlvbigkaHR0cCwgJHEpIHtcblxuICB0aGlzLnByb2ZpbGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9wcm9maWxlJylcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHJldHVybiAkcS5yZXNvbHZlKHJlcy5kYXRhKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0UHJvZmlsZSA9IChpZCkgPT57XG4gICAgIHJldHVybiAkaHR0cC5nZXQoYC9hcGkvdXNlcnMvcHJvZmlsZS8ke2lkfWApXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuICRxLnJlc29sdmUocmVzLmRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PntcbiAgICAgIGNvbnNvbGUubG9nKFwiZXJyOlwiLCBlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5nZXRBbGwgPSAoKSA9PntcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJyk7XG4gIH1cblxuICB0aGlzLnVwZGF0ZVByb2ZpbGUgPSAoaWQsIHByb2ZpbGVPYmopID0+e1xuICAgIGNvbnNvbGUubG9nKFwiaGVyZVwiKTtcbiAgICBjb25zb2xlLmxvZyhpZCAsIFwiIFwiICxwcm9maWxlT2JqKTtcbiAgICByZXR1cm4gJGh0dHAucHV0KGAvYXBpL3VzZXJzL3Byb2ZpbGUvJHtpZH1gLCAgcHJvZmlsZU9iailcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlcy5kYXRhXCIsIHJlcy5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJwcm9maWxlT2JqXCIsIHByb2ZpbGVPYmopO1xuXG4gICAgICAgIHJldHVybiAkcS5yZXNvbHZlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+e1xuICAgICAgY29uc29sZS5sb2coXCJlcnI6XCIsIGVycik7XG4gICAgfSk7XG4gIH1cblxuICB0aGlzLmRlbGV0ZUFjY291bnQgPSAoaWQpID0+e1xuICAgIHJldHVybiAkaHR0cC5kZWxldGUoYC9hcGkvdXNlcnMvcHJvZmlsZS8ke2lkfWApXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuICRxLnJlc29sdmUoKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT57XG4gICAgICBjb25zb2xlLmxvZyhcImVycjpcIiwgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuYWRkV2FsbFBvc3RUb1VzZXIgPSAodXNlcklkLCBwb3N0SWQpID0+e1xuICAgIGNvbnNvbGUubG9nKFwidXNlcklkOiBcIix1c2VySWQgLFwiIHBvc3RJZDogXCIsIHBvc3RJZClcbiAgICByZXR1cm4gJGh0dHAucHV0KGAvYXBpL3VzZXJzL3Byb2ZpbGUvJHt1c2VySWR9L2FkZFdhbGxQb3N0LyR7cG9zdElkfWApXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuICRxLnJlc29sdmUocmVzLmRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7ICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnI6JywgZXJyKTtcbiAgICB9KVxuICB9OyBcblxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
